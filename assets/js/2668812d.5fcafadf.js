"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[55],{3905:function(e,t,n){n.d(t,{Zo:function(){return l},kt:function(){return m}});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=o.createContext({}),d=function(e){var t=o.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},l=function(e){var t=d(e.components);return o.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},p=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,l=a(e,["components","mdxType","originalType","parentName"]),p=d(n),m=r,h=p["".concat(c,".").concat(m)]||p[m]||u[m]||i;return n?o.createElement(h,s(s({ref:t},l),{},{components:n})):o.createElement(h,s({ref:t},l))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,s=new Array(i);s[0]=p;var a={};for(var c in t)hasOwnProperty.call(t,c)&&(a[c]=t[c]);a.originalType=e,a.mdxType="string"==typeof e?e:r,s[1]=a;for(var d=2;d<i;d++)s[d]=n[d];return o.createElement.apply(null,s)}return o.createElement.apply(null,n)}p.displayName="MDXCreateElement"},7746:function(e,t,n){n.r(t),n.d(t,{contentTitle:function(){return c},default:function(){return p},frontMatter:function(){return a},metadata:function(){return d},toc:function(){return l}});var o=n(7462),r=n(3366),i=(n(7294),n(3905)),s=["components"],a={sidebar_position:1},c="Tests",d={unversionedId:"development/tests",id:"development/tests",title:"Tests",description:"To maintain the integrity of the features of this project we have written some integration tests to grant that main features of the widget and inline admin is really good.",source:"@site/docs/development/tests.md",sourceDirName:"development",slug:"/development/tests",permalink:"/django-image-uploader-widget/docs/development/tests",editUrl:"https://github.com/inventare/django-image-uploader-widget/blob/main/docs/docs/development/tests.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Text And Icons",permalink:"/django-image-uploader-widget/docs/customization/text-and-icons"}},l=[{value:"Functional Tests",id:"functional-tests",children:[],level:2},{value:"Some unit tests",id:"some-unit-tests",children:[],level:2},{value:"UI Regression Tests",id:"ui-regression-tests",children:[],level:2},{value:"Some Tests Decisions and Workarounds",id:"some-tests-decisions-and-workarounds",children:[{value:"An test project",id:"an-test-project",children:[],level:3}],level:2},{value:"Test Cases",id:"test-cases",children:[],level:2}],u={toc:l};function p(e){var t=e.components,n=(0,r.Z)(e,s);return(0,i.kt)("wrapper",(0,o.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"tests"},"Tests"),(0,i.kt)("p",null,"To maintain the integrity of the features of this project we have written some integration tests to grant that main features of the widget and inline admin is really good."),(0,i.kt)("h2",{id:"functional-tests"},"Functional Tests"),(0,i.kt)("p",null,"In the decision to write the tests we opted for writing only integration tests using the selenium. And the reason for it is: our project uses much more JavaScript for web browser than Python code for back-end and runs in high coupling with the django-admin. In this context, unit tests are expendable."),(0,i.kt)("h2",{id:"some-unit-tests"},"Some unit tests"),(0,i.kt)("p",null,"In the note block above i talked about not using unit test cases, and in the decisions of the issue ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/inventare/django-image-uploader-widget/issues/77"},"#77")," we decided to add one unit test for the translation of the widget (",(0,i.kt)("a",{parentName:"p",href:"https://github.com/inventare/django-image-uploader-widget/blob/main/tests/widget/functional/tests_functional_widget_custom.py#L5"},"tests/widget/functional/tests_functional_widget_custom.py"),")."),(0,i.kt)("h2",{id:"ui-regression-tests"},"UI Regression Tests"),(0,i.kt)("p",null,"In some versions of django, specially in some django 4.x versions, the style of the widget was broken. The behaviour is described in the issue ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/inventare/django-image-uploader-widget/issues/96#issuecomment-1690740705"},"#96"),". Due this behaviour, we decided to implements some ",(0,i.kt)("strong",{parentName:"p"},"UI Regression Tests")," and make some fixes to solve this problem."),(0,i.kt)("h2",{id:"some-tests-decisions-and-workarounds"},"Some Tests Decisions and Workarounds"),(0,i.kt)("p",null,"When testing with selenium is not possible to hack the file picker to choose some file. And in this project, in some moments we use an ",(0,i.kt)("em",{parentName:"p"},"temporary file input")," for choosing files without compromise the current choosed file. Based on those context, to test correctly fires to onClick event of the ",(0,i.kt)("em",{parentName:"p"},"temporary file input"),", we added an JavaScript to add an onClick event showing an alert and test for this alert into the screen."),(0,i.kt)("h3",{id:"an-test-project"},"An test project"),(0,i.kt)("p",null,"For easy testing, we used the ",(0,i.kt)("strong",{parentName:"p"},"demo")," project ",(0,i.kt)("inlineCode",{parentName:"p"},"image_uploader_widget_demo")," for writing base models for test add the tests for this project instead of the main component project."),(0,i.kt)("h2",{id:"test-cases"},"Test Cases"),(0,i.kt)("p",null,"You can read (or contribute, if you want to improve this project) the test cases inside the ",(0,i.kt)("inlineCode",{parentName:"p"},"/tests")," path inside the github repository ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/inventare/django-image-uploader-widget/tree/main/tests"},"here"),"."))}p.isMDXComponent=!0}}]);